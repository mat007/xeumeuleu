dist: trusty
sudo: required
language: cpp

env:
  - CXX_STANDARD=11
  - CXX_STANDARD=14
  - CXX_STANDARD=17

compiler:
  - gcc
  - clang

before_install:
  - sudo add-apt-repository -y ppa:ubuntu-toolchain-r/test
  - sudo apt-get -qq update
  - sudo apt-get install gcc-5 g++-5
  - sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-5 60 --slave /usr/bin/g++ g++ /usr/bin/g++-5
  - gcc --version
  - sudo apt-get install cmake libboost-all-dev libxerces-c-dev libxalan-c-dev
  - cmake --version
  - travis_retry wget https://github.com/mat007/turtle/archive/master.zip
  - unzip master.zip
  - cp -r turtle-master/include/turtle src/libraries

script:
  - mkdir -p build/cmake
  - cd build/cmake
  - cmake ../.. -DCMAKE_CXX_STANDARD=${CXX_STANDARD}
  - cmake --build .
  - ctest --verbose
